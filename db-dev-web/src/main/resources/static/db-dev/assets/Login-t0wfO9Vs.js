import{r as c,_ as B,A as p,aW as w,D as a,B as s,C as t,ay as o,K as D,Y as I,aX as L,o as m,u as r,M as N,ap as z}from"./vue-vendor-BB5k324P.js";import{c as H,g as R,l as q,t as F,u as K,a as U,b as A}from"./element-plus-DuTa5cwT.js";import{r as E}from"./request-CcLfhpZL.js";import{_ as Q}from"./index-C9u0Vdbf.js";import"./vendor-BTz0EEYM.js";const T={class:"login-container"},W={class:"login-content"},X={class:"brand-section"},Y={class:"brand-content"},Z={class:"feature-list"},j={class:"feature-item"},G={class:"feature-icon"},J={class:"feature-item"},O={class:"feature-icon",style:{background:"linear-gradient(135deg, #67c23a, #85ce61)"}},P={class:"feature-item"},$={class:"feature-icon",style:{background:"linear-gradient(135deg, #e6a23c, #ebb563)"}},ee={class:"feature-item"},ae={class:"feature-icon",style:{background:"linear-gradient(135deg, #f56c6c, #f89898)"}},se={class:"brand-footer"},te={class:"login-section"},oe={class:"login-box"},le={class:"form-options"},ne={key:0},re={key:1},de={key:0,class:"error-message"},ie={__name:"Login",setup(ue){const h=L(),v=c(null),u=c(!1),d=c(""),f=c(!1),l=B({username:"",password:""}),y={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},_=async()=>{v.value&&await v.value.validate(async b=>{if(b){u.value=!0,d.value="";try{const e=await E.post("/auth/login",{username:l.username,password:l.password});e.code===200&&e.data?(f.value?(localStorage.setItem("db-dev-token",e.data.token),localStorage.setItem("db-dev-username",e.data.username)):(sessionStorage.setItem("db-dev-token",e.data.token),sessionStorage.setItem("db-dev-username",e.data.username)),A.success("登录成功"),h.push("/dashboard")):d.value=e.message||"登录失败"}catch(e){d.value=e.response?.data?.message||e.message||"登录失败，请检查网络连接"}finally{u.value=!1}}})};return(b,e)=>{const n=o("el-icon"),V=o("el-tag"),k=o("el-input"),g=o("el-form-item"),x=o("el-checkbox"),C=o("el-button"),M=o("el-form"),S=o("el-alert");return m(),p("div",T,[e[12]||(e[12]=w('<div class="background-decoration" data-v-a73a2a6b><div class="gradient-orb orb-1" data-v-a73a2a6b></div><div class="gradient-orb orb-2" data-v-a73a2a6b></div><div class="gradient-orb orb-3" data-v-a73a2a6b></div><div class="grid-pattern" data-v-a73a2a6b></div></div>',1)),a("div",W,[a("div",X,[a("div",Y,[e[9]||(e[9]=w('<div class="brand-logo" data-v-a73a2a6b><div class="logo-icon-large" data-v-a73a2a6b><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-a73a2a6b><path d="M4 7C4 5.89543 4.89543 5 6 5H18C19.1046 5 20 5.89543 20 7V17C20 18.1046 19.1046 19 18 19H6C4.89543 19 4 18.1046 4 17V7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-a73a2a6b></path><path d="M8 9H16M8 13H12" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-a73a2a6b></path></svg></div><h1 class="brand-title" data-v-a73a2a6b>DB Dev</h1><p class="brand-subtitle" data-v-a73a2a6b>Database Development Assistant</p></div>',1)),a("div",Z,[a("div",j,[a("div",G,[s(n,null,{default:t(()=>[s(r(H))]),_:1})]),e[3]||(e[3]=a("div",{class:"feature-text"},[a("span",{class:"feature-name"},"多数据源管理"),a("span",{class:"feature-desc"},"支持多种数据库类型")],-1))]),a("div",J,[a("div",O,[s(n,null,{default:t(()=>[s(r(R))]),_:1})]),e[4]||(e[4]=a("div",{class:"feature-text"},[a("span",{class:"feature-name"},"表结构浏览"),a("span",{class:"feature-desc"},"可视化查看元数据")],-1))]),a("div",P,[a("div",$,[s(n,null,{default:t(()=>[s(r(q))]),_:1})]),e[5]||(e[5]=a("div",{class:"feature-text"},[a("span",{class:"feature-name"},"SQL 执行器"),a("span",{class:"feature-desc"},"在线编写执行SQL")],-1))]),a("div",ee,[a("div",ae,[s(n,null,{default:t(()=>[s(r(F))]),_:1})]),e[6]||(e[6]=a("div",{class:"feature-text"},[a("span",{class:"feature-name"},"代码生成"),a("span",{class:"feature-desc"},"一键生成Mapper代码")],-1))])]),a("div",se,[s(V,{size:"small",type:"info",effect:"plain"},{default:t(()=>[...e[7]||(e[7]=[N("Version 1.0.0",-1)])]),_:1}),e[8]||(e[8]=a("span",{class:"copyright"},"© 2026 DB Dev Team",-1))])])]),a("div",te,[a("div",oe,[e[11]||(e[11]=a("div",{class:"login-header"},[a("h2",null,"欢迎回来"),a("p",null,"请登录您的账户以继续")],-1)),s(M,{ref_key:"loginFormRef",ref:v,model:l,rules:y,class:"login-form",onSubmit:I(_,["prevent"])},{default:t(()=>[s(g,{prop:"username"},{default:t(()=>[s(k,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=i=>l.username=i),placeholder:"请输入用户名",size:"large",clearable:""},{prefix:t(()=>[s(n,{class:"input-icon"},{default:t(()=>[s(r(K))]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(g,{prop:"password"},{default:t(()=>[s(k,{modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=i=>l.password=i),type:"password",placeholder:"请输入密码",size:"large","show-password":"",onKeyup:z(_,["enter"])},{prefix:t(()=>[s(n,{class:"input-icon"},{default:t(()=>[s(r(U))]),_:1})]),_:1},8,["modelValue"])]),_:1}),a("div",le,[s(x,{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=i=>f.value=i),class:"remember-me"},{default:t(()=>[...e[10]||(e[10]=[a("span",null,"记住我",-1)])]),_:1},8,["modelValue"])]),s(g,null,{default:t(()=>[s(C,{type:"primary",size:"large",loading:u.value,class:"login-button",onClick:_},{default:t(()=>[u.value?(m(),p("span",re,"登录中...")):(m(),p("span",ne,"登 录"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),d.value?(m(),p("div",de,[s(S,{title:d.value,type:"error",closable:!1,"show-icon":""},null,8,["title"])])):D("",!0)])])])])}}},_e=Q(ie,[["__scopeId","data-v-a73a2a6b"]]);export{_e as default};
