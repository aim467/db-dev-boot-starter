import{r as M,c as g,aY as z,x as E,m as u,C as t,ay as o,aX as F,o as r,B as e,D as n,M as N,A as q,P as A,ac as H,L as v,O as i,R as O}from"./vue-vendor-BB5k324P.js";import{r as P}from"./request-CcLfhpZL.js";import{_ as Q}from"./index-C9u0Vdbf.js";import{d as X,b as Y}from"./element-plus-DuTa5cwT.js";import"./vendor-BTz0EEYM.js";const j={class:"sidebar-header"},G={style:{"margin-left":"auto",display:"flex","align-items":"center",gap:"10px"}},J={style:{color:"#909399","font-size":"14px","margin-right":"8px"}},K={__name:"Layout",setup(U){const _=z(),d=F(),m=M(""),p=[{path:"/dashboard",label:"Dashboard",icon:"HomeFilled"},{path:"/datasources",label:"数据源",icon:"Connection"},{path:"/tables",label:"表结构",icon:"Folder"},{path:"/sql",label:"SQL 执行器",icon:"Lightning"},{path:"/codegen",label:"代码生成",icon:"Tools"}],x=g(()=>_.path),y=g(()=>{const s=p.find(a=>a.path===_.path);return s?s.label:""}),w=()=>{d.go(0)},B=async()=>{try{await X.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});try{await P.post("/auth/logout")}catch{}localStorage.removeItem("db-dev-token"),localStorage.removeItem("db-dev-username"),Y.success("已退出登录"),d.push("/login")}catch{}};return E(()=>{m.value=localStorage.getItem("db-dev-username")||"用户"}),(s,a)=>{const D=o("Database"),c=o("el-icon"),k=o("el-menu-item"),C=o("el-menu"),L=o("el-aside"),S=o("Refresh"),f=o("el-button"),h=o("el-tooltip"),R=o("SwitchButton"),T=o("el-header"),I=o("router-view"),V=o("el-main"),b=o("el-container");return r(),u(b,{class:"app-container"},{default:t(()=>[e(L,{width:"240px"},{default:t(()=>[n("div",j,[n("h1",null,[e(c,null,{default:t(()=>[e(D)]),_:1}),a[0]||(a[0]=N(" DB Dev ",-1))]),a[1]||(a[1]=n("p",null,"Database Development Assistant",-1))]),e(C,{"default-active":x.value,"background-color":"transparent","text-color":"#bfcbd9","active-text-color":"#409eff",router:""},{default:t(()=>[(r(),q(A,null,H(p,l=>e(k,{key:l.path,index:l.path},{default:t(()=>[e(c,null,{default:t(()=>[(r(),u(v(l.icon)))]),_:2},1024),n("span",null,i(l.label),1)]),_:2},1032,["index"])),64))]),_:1},8,["default-active"])]),_:1}),e(b,null,{default:t(()=>[e(T,{height:"60px"},{default:t(()=>[n("h2",null,i(y.value),1),n("div",G,[n("span",J,i(m.value),1),e(h,{content:"刷新页面",placement:"bottom"},{default:t(()=>[e(f,{circle:"",size:"small",onClick:w},{default:t(()=>[e(c,null,{default:t(()=>[e(S)]),_:1})]),_:1})]),_:1}),e(h,{content:"登出",placement:"bottom"},{default:t(()=>[e(f,{circle:"",size:"small",onClick:B},{default:t(()=>[e(c,null,{default:t(()=>[e(R)]),_:1})]),_:1})]),_:1})])]),_:1}),e(V,{class:"content-body"},{default:t(()=>[e(I,null,{default:t(({Component:l})=>[e(O,{name:"fade",mode:"out-in"},{default:t(()=>[(r(),u(v(l)))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1})}}},oe=Q(K,[["__scopeId","data-v-82de153f"]]);export{oe as default};
