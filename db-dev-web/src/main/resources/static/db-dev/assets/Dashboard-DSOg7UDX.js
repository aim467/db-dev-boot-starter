import{u as j}from"./datasource-BB4_IJ-g.js";import{g as G}from"./metadata-BvLBKV1p.js";import{_ as H}from"./index-C9u0Vdbf.js";import{r as D,c as z,x as M,A as _,B as t,C as o,ay as n,aI as R,o as f,D as s,M as a,O as p,u as b,J as E,P as K,ac as U,m as W,K as X}from"./vue-vendor-BB5k324P.js";import"./datasource-CNDQnR3F.js";import"./request-CcLfhpZL.js";import"./vendor-BTz0EEYM.js";import"./element-plus-DuTa5cwT.js";const Y={style:{display:"flex","align-items":"center",gap:"8px"}},Z={class:"quick-actions"},tt={class:"stat-icon",style:{background:"linear-gradient(135deg, #409eff, #66b1ff)"}},et={class:"stat-info"},ot={class:"stat-value"},st={class:"stat-icon",style:{background:"linear-gradient(135deg, #67c23a, #85ce61)"}},lt={class:"stat-info"},nt={class:"stat-value"},at={class:"stat-icon",style:{background:"linear-gradient(135deg, #e6a23c, #ebb563)"}},it={class:"stat-info"},rt={class:"stat-value"},dt={class:"stat-icon",style:{background:"linear-gradient(135deg, #f56c6c, #f89898)"}},ut={class:"stat-info"},pt={class:"stat-value"},ft={style:{display:"flex","align-items":"center","justify-content":"space-between"}},ct={style:{display:"flex","align-items":"center",gap:"8px"}},_t={key:0,style:{height:"200px"}},mt={key:1,style:{"text-align":"center",padding:"40px",color:"#909399"}},vt={key:2,class:"datasource-list"},gt={class:"ds-info"},yt={class:"ds-name"},bt={class:"ds-meta"},kt={style:{display:"flex","align-items":"center",gap:"8px"}},Ct={style:{display:"flex","align-items":"center",gap:"8px"}},St={class:"feature-list-simple"},wt={__name:"Dashboard",setup(ht){const d=j(),S=D(0),w=D("-"),L=z(()=>{try{const i=localStorage.getItem("sql_executor_history");return i?JSON.parse(i).length:0}catch{return 0}}),B=z(()=>d.dataSources.length>0?"正常":"-"),I=async()=>{try{if(await d.loadDataSources(),d.dataSources.length>0){const i=d.dataSources.find(k=>k.primary)||d.dataSources[0],e=await G(i.name);S.value=e.data?.length||0}}catch(i){console.error("加载数据失败",i)}};return M(()=>{I(),w.value="17+"}),(i,e)=>{const k=n("Promotion"),l=n("el-icon"),g=n("Connection"),m=n("el-button"),N=n("Folder"),T=n("Lightning"),q=n("Tools"),u=n("el-card"),c=n("el-col"),A=n("Grid"),h=n("Clock"),F=n("Cpu"),$=n("el-row"),V=n("ArrowRight"),x=n("Star"),C=n("el-tag"),P=n("CircleCheck"),Q=n("InfoFilled"),y=n("el-descriptions-item"),J=n("el-descriptions"),v=n("Check"),O=R("loading");return f(),_("div",null,[t(u,{class:"welcome-card",shadow:"hover"},{header:o(()=>[s("div",Y,[t(l,{color:"#fff"},{default:o(()=>[t(k)]),_:1}),e[9]||(e[9]=s("span",{style:{"font-weight":"600",color:"#fff"}},"欢迎使用 DB Dev",-1))])]),default:o(()=>[e[14]||(e[14]=s("p",{style:{"margin-bottom":"15px",color:"#fff","font-size":"14px","line-height":"1.6"}}," 面向开发者的数据库开发辅助工具，集成数据源管理、元数据浏览、SQL 执行与代码生成能力。 ",-1)),s("div",Z,[t(m,{type:"primary",plain:"",onClick:e[0]||(e[0]=r=>i.$router.push("/datasources"))},{default:o(()=>[t(l,null,{default:o(()=>[t(g)]),_:1}),e[10]||(e[10]=a(" 数据源管理 ",-1))]),_:1}),t(m,{type:"primary",plain:"",onClick:e[1]||(e[1]=r=>i.$router.push("/tables"))},{default:o(()=>[t(l,null,{default:o(()=>[t(N)]),_:1}),e[11]||(e[11]=a(" 表结构浏览 ",-1))]),_:1}),t(m,{type:"primary",plain:"",onClick:e[2]||(e[2]=r=>i.$router.push("/sql"))},{default:o(()=>[t(l,null,{default:o(()=>[t(T)]),_:1}),e[12]||(e[12]=a(" SQL 执行器 ",-1))]),_:1}),t(m,{type:"primary",plain:"",onClick:e[3]||(e[3]=r=>i.$router.push("/codegen"))},{default:o(()=>[t(l,null,{default:o(()=>[t(q)]),_:1}),e[13]||(e[13]=a(" 代码生成 ",-1))]),_:1})])]),_:1}),t($,{gutter:16,style:{"margin-bottom":"20px"}},{default:o(()=>[t(c,{span:6},{default:o(()=>[t(u,{shadow:"hover",class:"stat-card",onClick:e[4]||(e[4]=r=>i.$router.push("/datasources"))},{default:o(()=>[s("div",tt,[t(l,{size:"28"},{default:o(()=>[t(g)]),_:1})]),s("div",et,[s("div",ot,p(b(d).dataSources.length),1),e[15]||(e[15]=s("div",{class:"stat-label"},"数据源",-1))])]),_:1})]),_:1}),t(c,{span:6},{default:o(()=>[t(u,{shadow:"hover",class:"stat-card",onClick:e[5]||(e[5]=r=>i.$router.push("/tables"))},{default:o(()=>[s("div",st,[t(l,{size:"28"},{default:o(()=>[t(A)]),_:1})]),s("div",lt,[s("div",nt,p(S.value),1),e[16]||(e[16]=s("div",{class:"stat-label"},"数据表",-1))])]),_:1})]),_:1}),t(c,{span:6},{default:o(()=>[t(u,{shadow:"hover",class:"stat-card",onClick:e[6]||(e[6]=r=>i.$router.push("/sql"))},{default:o(()=>[s("div",at,[t(l,{size:"28"},{default:o(()=>[t(h)]),_:1})]),s("div",it,[s("div",rt,p(L.value),1),e[17]||(e[17]=s("div",{class:"stat-label"},"SQL 历史",-1))])]),_:1})]),_:1}),t(c,{span:6},{default:o(()=>[t(u,{shadow:"hover",class:"stat-card"},{default:o(()=>[s("div",dt,[t(l,{size:"28"},{default:o(()=>[t(F)]),_:1})]),s("div",ut,[s("div",pt,p(B.value),1),e[18]||(e[18]=s("div",{class:"stat-label"},"连接池状态",-1))])]),_:1})]),_:1})]),_:1}),t($,{gutter:20},{default:o(()=>[t(c,{span:14},{default:o(()=>[t(u,{shadow:"hover"},{header:o(()=>[s("div",ft,[s("div",ct,[t(l,{color:"#409eff"},{default:o(()=>[t(g)]),_:1}),e[19]||(e[19]=s("span",{style:{"font-weight":"600"}},"数据源概览",-1))]),t(m,{type:"primary",text:"",size:"small",onClick:e[7]||(e[7]=r=>i.$router.push("/datasources"))},{default:o(()=>[e[20]||(e[20]=a(" 查看全部 ",-1)),t(l,null,{default:o(()=>[t(V)]),_:1})]),_:1})])]),default:o(()=>[b(d).loading?E((f(),_("div",_t,null,512)),[[O,!0]]):b(d).dataSources.length===0?(f(),_("div",mt,[t(l,{size:"48"},{default:o(()=>[t(g)]),_:1}),e[21]||(e[21]=s("p",null,"暂无数据源",-1))])):(f(),_("div",vt,[(f(!0),_(K,null,U(b(d).dataSources.slice(0,4),r=>(f(),_("div",{key:r.name,class:"datasource-item",onClick:e[8]||(e[8]=$t=>i.$router.push("/datasources"))},[s("div",gt,[s("div",yt,[r.primary?(f(),W(l,{key:0,color:"#f56c6c"},{default:o(()=>[t(x)]),_:1})):X("",!0),a(" "+p(r.name),1)]),s("div",bt,[t(C,{size:"small",type:"info"},{default:o(()=>[a(p(r.databaseType),1)]),_:2},1024),t(C,{size:"small"},{default:o(()=>[a(p(r.type),1)]),_:2},1024)])]),t(C,{type:"success",size:"small"},{default:o(()=>[t(l,null,{default:o(()=>[t(P)]),_:1})]),_:1})]))),128))]))]),_:1})]),_:1}),t(c,{span:10},{default:o(()=>[t(u,{shadow:"hover",style:{"margin-bottom":"20px"}},{header:o(()=>[s("div",kt,[t(l,{color:"#67c23a"},{default:o(()=>[t(Q)]),_:1}),e[22]||(e[22]=s("span",{style:{"font-weight":"600"}},"系统信息",-1))])]),default:o(()=>[t(J,{column:1,size:"small"},{default:o(()=>[t(y,{label:"版本"},{default:o(()=>[...e[23]||(e[23]=[a("1.0.0-SNAPSHOT",-1)])]),_:1}),t(y,{label:"环境"},{default:o(()=>[...e[24]||(e[24]=[a("Development",-1)])]),_:1}),t(y,{label:"Java"},{default:o(()=>[a(p(w.value),1)]),_:1}),t(y,{label:"Spring Boot"},{default:o(()=>[...e[25]||(e[25]=[a("3.x",-1)])]),_:1})]),_:1})]),_:1}),t(u,{shadow:"hover"},{header:o(()=>[s("div",Ct,[t(l,{color:"#e6a23c"},{default:o(()=>[t(x)]),_:1}),e[26]||(e[26]=s("span",{style:{"font-weight":"600"}},"功能特性",-1))])]),default:o(()=>[s("ul",St,[s("li",null,[t(l,{color:"#67c23a"},{default:o(()=>[t(v)]),_:1}),e[27]||(e[27]=a(" 多数据源管理",-1))]),s("li",null,[t(l,{color:"#67c23a"},{default:o(()=>[t(v)]),_:1}),e[28]||(e[28]=a(" 连接池实时监控",-1))]),s("li",null,[t(l,{color:"#67c23a"},{default:o(()=>[t(v)]),_:1}),e[29]||(e[29]=a(" 表结构元数据浏览",-1))]),s("li",null,[t(l,{color:"#67c23a"},{default:o(()=>[t(v)]),_:1}),e[30]||(e[30]=a(" SQL 在线执行",-1))]),s("li",null,[t(l,{color:"#67c23a"},{default:o(()=>[t(v)]),_:1}),e[31]||(e[31]=a(" 代码一键生成",-1))]),s("li",null,[t(l,{color:"#909399"},{default:o(()=>[t(h)]),_:1}),e[32]||(e[32]=a(" AI 辅助 (规划中)",-1))])])]),_:1})]),_:1})]),_:1})])}}},qt=H(wt,[["__scopeId","data-v-3613998c"]]);export{qt as default};
